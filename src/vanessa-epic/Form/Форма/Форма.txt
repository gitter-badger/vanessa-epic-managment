
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	
	
	
КонецПроцедуры

Процедура АктивироватьСтраницыНастройки()
	
	Элементы.НастройкиРепозитория.Видимость = Истина;
	Элементы.РаботаСЦелямиИКомпонентами.Видимость = Ложь;
	
КонецПроцедуры

Процедура АктивироватьСтраницыРаботыСРепозиторием()
	
	Элементы.НастройкиРепозитория.Видимость = Ложь;
	Элементы.РаботаСЦелямиИКомпонентами.Видимость = Истина;
	
КонецПроцедуры

&НаСервере
Процедура ВосстановитьНастройки()
	
	Если Объект.РежимСамотестирования Тогда
		Возврат;
	КонецЕсли;  
	
	Настройки = ХранилищеОбщихНастроек.Загрузить("VanessaEpics");
	Если ТипЗнч(Настройки) = Тип("Структура") Тогда
		
		Настройки.Свойство("gitrepos", Объект.Репозиторий);
		
		АктивироватьСтраницыРаботыСРепозиторием();
		
	Иначе	
		
		АктивироватьСтраницыНастройки();
		
	КонецЕсли;

КонецПроцедуры

&НаСервере
Процедура СохранитьНастройкиВХранилище()
	Если Объект.РежимСамотестирования Тогда
		Возврат;
	КонецЕсли;  
	
	Настройки = Новый Структура;
	Настройки.Вставить("gitrepos", Объект.Репозиторий);
	
	ХранилищеОбщихНастроек.Сохранить("VanessaEpics",, Настройки);
	
КонецПроцедуры


&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	
	ВосстановитьНастройки();
	
	
КонецПроцедуры


&НаКлиенте
Процедура СохранитьНастройки1(Команда)
	
	СохранитьНастройкиВХранилище();
	
КонецПроцедуры


